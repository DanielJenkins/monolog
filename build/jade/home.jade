<!Doctype html>
html(ng-app="posting")
  head
    title MonoLog
    script(src="//code.jquery.com/jquery-1.12.0.min.js")
    script(src="//code.jquery.com/jquery-migrate-1.2.1.min.js")
    script(src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous")
    script(src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js")
    script(src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular-route.min.js")
    script(src="../js/all.js")
    link(rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous")
    link(rel="stylesheet" type="text/css" href="css/default.css")
body(ng-controller="homeController as home")
  nav(class="navbar navbar-fixed-top myNavbar")
    div(class="container-fluid")
      div(class="navbar-header")
        button(type="button" class="navbar-toggle collapseButton" data-toggle="collapse" data-target="#navbar-collapse-1" aria-expanded="false")
          span(class="sr-only") Toggle navigation
          span(class="icon-bar")
          span(class="icon-bar")
        a(class="navbar-brand" href="#/" ng-click="home.findUser('')")
          img(alt="Brand" src="../images/logoRect.png" class="brandImg")
      div(class="collapse navbar-collapse" id="navbar-collapse-1")
        ul(class="nav navbar-nav navbar-right")
          form(class="navbar-form navbar-left" role="search" ng-submit="home.runSearch()" method="post")
            div(class="form-group")
              input(name="home.searchTerm" type="text" class="form-control" placeholder="@user or #hashtag" ng-model="home.searchTerm")
          li(class="active")
            a(href="#/" ng-click="home.findUser('')") {{home.username}}
          li(class="active")
            a(href="https://github.com/DanielJenkins/monolog" target="_blank") About
          li(class="active")
            a(href="/logout") Logout
  div(class="container-fluid")
    div(class="row")
      div(class="hidden-xs hidden-sm col-md-2 col-lg-2")
        a(href="#" id="topButton") Jump to top
      div(class="col-xs-12 col-xs-12 hidden-md hidden-lg")
        a(href="#" id="topButtonSm") â†‘ Top
    div(class="row headerSpacer")
    div(class="row" id="homeHeader")
      div(class="col-xs-12 postForm")
        div(class="row")
          div(class="col-xs-12 col-sm-offset-1 col-sm-10 col-md-offset-2 col-md-8 col-lg-offset-2 col-lg-8")
            div(class="row")
              div(class="col-xs-12 col-sm-12 col-md-12 col-lg-12")
                div(class="mini-spacer")
            div(class="row")
              div(class="col-xs-12 col-sm-12 col-md-12 col-lg-12")
                div(class="mini-spacer")
            div(class="row")
              form(class="form-horizontal" action="/newPost" method="post")
                div(class="form-group")
                  div(class="col-xs-12")
                    textarea(name="postContent" class="form-control" rows="3" placeholder="Go out on a limb..." maxlength="151" required)
                div(class="form-group")
                  div(class="col-xs-12 text-center")
                    button(type="submit" class="btn btn-default") Plant It!
            div(class="row")
              div(class="col-xs-12 col-sm-12 col-md-12 col-lg-12")
                div(class="mini-spacer")
        div(class="row")
          div(class="col-xs-12")
            div(class="mini-spacer")
    div(class="row")
      div(class="hidden-xs col-sm-1 col-md-2 col-lg-2")
        div(id="topButtonCover")
      div(class="col-xs-12 col-sm-10 col-md-8 col-lg-8")
        div(class="row" id="searchErr")
          div(class="col-xs-12")
            p {{home.searchErr}}
        div(class="row post" ng-repeat="post in home.postList")
          div(class="col-xs-12")
            div(class="row")
              div(class="col-xs-12 col-sm-12 col-md-8 col-lg-9")
                a(class="postUsername" ng-click="home.findUser(post.username)") {{post.username}}
              div(class="hidden-xs hidden-sm col-md-4 col-lg-3")
                p(class="timestamp") Planted {{post.timeFromToday}}
              div(class="col-xs-12 col-sm-12 hidden-md hidden-lg")
                p(class="timestampSm") Planted {{post.timeFromToday}}
            div(class="row")
              div(class="col-xs-12")
                p(class="postContent") {{post.postContent}}
        div(class="row" id="endImg")